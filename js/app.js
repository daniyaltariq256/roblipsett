(function(){var bt;let rt="/apps/cowlendar",_=[],h={},st=!1,C=[],P=[];const K=[];let Z=null,c=((bt=window==null?void 0:window._cowlendarConfig)==null?void 0:bt.shop_url)||null;if(!c&&typeof Shopify=="object")c=Shopify.shop;else if(!c&&typeof COW_SHOP_URL<"u")c=COW_SHOP_URL;else if(!c&&typeof document.currentScript<"u"&&document.currentScript.src){const n=document.currentScript.src.split("?shop=").pop();n&&(c=n)}function ct(){return typeof Shopify<"u"&&Shopify.theme&&Shopify.theme.name?Shopify.theme.name:"Unknown"}function F(n=0){const e=new URLSearchParams(window.location.search).get("variant");return parseInt(e??n)}const Ft=n=>{const t={},e=n.elements;for(let o=0;o<e.length;o++)e[o].name!==""&&(t[e[o].name]=e[o].value);return t},Ht=n=>{const t={};return Object.keys(n).forEach(e=>{if(e.startsWith("properties[")){const o=e.slice(11,-1);t[o]=n[e]}}),t},Ot=(n,t)=>{n=n.replace(/^#/,""),n.length===3&&(n=n.split("").map(s=>s+s).join(""));const e=parseInt(n,16),o=e>>16&255,a=e>>8&255,i=e&255,l=Math.max(0,Math.min(100,t))/100;return`rgba(${o}, ${a}, ${i}, ${l})`},Y=document.querySelector("body");let lt=F();window.location.pathname.includes("/products/")===!0&&Y.addEventListener("click",()=>{setTimeout(()=>{const n=F();n&&lt!==n&&(lt=n,Y.dispatchEvent(new CustomEvent("cow_variant_update",{detail:{value:n}})))},100)});const dt=".cowlender-store-btn, .cowlendar-store-btn, input[type=submit], button[type=submit], input[type=button], button[type=submit]:not(.shopify-payment-button__button):not(.shopify-payment-button__more-options), .btn-add-to-cart, .add-to-cart, .add-to-cart-button, .addtocart, .qsc-btn--add-to-cart, .add_to_cart_btn, #AddToCart, #add-to-cart-btn, #shopify_add_to_cart, .AddToCart, .btn-addtocart, #btn-add-to-cart, .addToCart, .button_add_to_cart, #addToCartButton, #add-to-cart, #btnAddToCart, .add-to-cart-btn, .button-add-to-cart, .add_to_cart_button, .AddtoCart, .btn--sticky_addtocart, .add_to_cart, #addToCartBtn, .btn_add_to_cart, .hs-btn-add-to-cart-2, .product-atc__button, .g-stickybar-buynow, .btn--add-to-cart, #new-form-atc, .cart__checkout-btn, .product-atc-btn, .product-form--atc-button, .shg-btn, .product_buttonContainer-addToCart a, #mwAddToCart, .complete-design-a, #button-cart, .add-to-cart input.button, #addtc-sticky-bar .addtc-sticky-btn, .lh-external, .lh-buy-now, .product-form--add-to-cart, .product-buy-buttons--cta, .tt-btn-addtocart, #main-atc-btn, [data-product-menu-button-addtocart], .button--addToCart, .shopify-payment-btn, .product-submit, .btn-block, .product-buy-buttons--primary",ut="input[name='id'], select[name='id'], #formVariantId, .cow-variant-id",mt="form[action='/cart'][method='post'], .cart-item-list, .cart-notification-wrapper, .cart-table__container",tt="table tbody tr, .cart__items .cart__item, .cart-items .cart-item-container .cart-item, .cart-notification-product, .cart-drawer",et=".cowlender-store-btn, .cowlendar-store-btn, .cowlendar-add-to-cart",Rt=["barfgold.myshopify.com"],ht=["protectmobile-shop.myshopify.com","predireparis-ca.myshopify.com","phoenix-jewellers-windsor.myshopify.com","ojosviajeros.myshopify.com","sapien-aesthetics.myshopify.com","8d61e4.myshopify.com","45b585.myshopify.com","ladybugz-monogram-and-design.myshopify.com","aurum-grozis.myshopify.com"],M=".shopify-payment-button, .shopify-payment-button__button, .spurit-occ3-buy-now-button",W=["blow-bar-bali.myshopify.com","valdo-3576.myshopify.com","kitoko.myshopify.com","a11f41.myshopify.com","kyle-460.myshopify.com","31bf16.myshopify.com","selfplatform.myshopify.com"],Q=["le-chat-ou-moi.myshopify.com","wildcaptives.myshopify.com","armandheitz.myshopify.com","prodbyldre.myshopify.com","luidomel.myshopify.com","a-moninvitation.myshopify.com","for-textured-hair.myshopify.com","lovetriangle-8508.myshopify.com","the-curve-cult.myshopify.com","4543d9-4.myshopify.com","b36e16-2.myshopify.com","e8ca18.myshopify.com","f4e8f9-2.myshopify.com","8bdf76-8b.myshopify.com"],u=(...n)=>{(h==null?void 0:h.hide_logs)===!0||Rt.includes(c)||console.log(...n)};function Ut(n,t=300){let e;return(...o)=>{e||n.apply(this,o),clearTimeout(e),e=setTimeout(()=>{n.apply(this,o),e=null},t)}}const H=n=>{const t=document.querySelector(n);t&&t.remove()},ft=window.addEventListener?"addEventListener":"attachEvent",Dt=window[ft];Dt(ft==="attachEvent"?"onmessage":"message",function(n){var o,a,i,l,s;const t=((o=n.data)==null?void 0:o.action)||((a=n.message)==null?void 0:a.action),e=((i=n.data)==null?void 0:i.mode)||((l=n.message)==null?void 0:l.mode);if(t==="add_to_cart"){const r=n.data||n.message;Gt(r.data,r.upsellProducts,r.shouldCloseModal,e)}else if(t==="add_to_cart_upsell"){const r=n.data||n.message;yt(r.data,e)}else if(t==="redirect_to_cart")location.href="/cart";else if(t==="redirect_to_url"){const r=n.data||n.message;location.href=r.data}else if(t==="open"){const r=(s=n.data||n.message)==null?void 0:s.data;console.log("=== cow openModal app.js",r),A(r.service_id,r.variant_id,r.quantity,r.mode)}else if(t==="close")R();else if(t==="start_new_booking"){const r=n.data||n.message;ne(r.data,e)}else t==="redirect_if_close"?Z=(n.data||n.message).data:t==="shrink_modal"?B&&B.classList.add("cow-modal-shrinked"):t==="extend_modal"&&B&&B.classList.remove("cow-modal-shrinked")});const Wt=()=>{const n=document.querySelector(".cowlendar-section");if(n){const t=document.createElement("script");t.type="module",t.src="https://app.cowlendar.com/cdn/app-sections.js",n.appendChild(t)}},Qt=(n,t)=>{const e=t.line_items[0];let o="";Object.keys(e.properties).forEach(r=>{o+=`<input type="hidden" class="cow-hidden-props" name="properties[${r}]" value="${e.properties[r]}">`});const a=window._cow_qty_element;a?a.value=e.quantity:o+=`<input type="hidden" name="quantity" value="${e.quantity}">`;const l=n.closest("form").querySelector('input[name="id"]');l?l.value=e.variant_id:o+=`<input type="hidden" name="id" value="${e.variant_id}">`,e.selling_plan&&(o+=`<input type="hidden" name="selling_plan" value="${e.selling_plan}">`),document.querySelectorAll(".cow-hidden-props").forEach(r=>r.remove()),n.insertAdjacentHTML("afterend",o),u("===cow submitting",n),n.disabled=!1,n.removeAttribute("disabled"),c==="lomalab.myshopify.com"&&n.click(),n.click()},zt=(n,t={},e=[])=>{u("===cow submitting fake form");const o=n.line_items.map(a=>({quantity:a.quantity,id:a.variant_id,properties:{...a.properties,...t},selling_plan:a.selling_plan||void 0}));e==null||e.forEach(a=>{o.push({quantity:a.quantity,id:a.variant_id,properties:(a==null?void 0:a.props)||{}})}),u("===cow [submitVirtualForm] Add to cart items",o),fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:o})}).then(a=>a.json()).then(a=>{const i=document.querySelectorAll("iframe.cowlendar-iframe");if(a!=null&&a.status){i.forEach(l=>{let s=a.message;a.description&&(s+=` (${a.description})`),l.contentWindow.postMessage({action:"add_to_cart_error",data:{message:s}},"*")});return}i.forEach(l=>{var s;l.contentWindow.postMessage({action:"add_to_cart_success",data:{}},"*"),((s=Shopify==null?void 0:Shopify.theme)==null?void 0:s.name)==="Dawn"&&(document.querySelector("cart-notification")||document.querySelector("cart-drawer")).open()})})},Jt=()=>{document.querySelectorAll("iframe.cowlendar-iframe").forEach(t=>{t.contentWindow.postMessage({action:"add_to_cart_success",data:{}},"*")})},yt=(n,t="modal")=>{u("===cow cart data upsell",n,t);const o={items:n.map(i=>({id:i.variant_id,quantity:i.quantity||1,properties:(i==null?void 0:i.props)||{}}))},a=document.querySelector("cart-notification")||document.querySelector("cart-drawer");return fetch(window.Shopify.routes.root+"cart/add.js?type=upsell",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(i=>i.json()).then(()=>{var i;((i=Shopify==null?void 0:Shopify.theme)==null?void 0:i.name)==="Dawn"&&a.open()})},Gt=async(n,t=[],e=!0,o="modal")=>{var s;u("===cow cart data",n,o);const a=window._cow_addtocart_button||document.querySelector(et),i=o==="standalone-inline"||o==="standalone-modal",l=document.querySelector(".cow-form")||window._cow_addtocart_button_method==="custom"||i||((s=n.line_items)==null?void 0:s.length)>1;if(!a&&!l){u(`===cow Cannot find ${et} buttons OR .cow-form form`);return}if(window._cow_ongoing_cart=!0,window._cow_ongoing_cart_data=n,window._cow_ongoing_mode=o,window._cow_ongoing_close_at_the_end=e,l){let r={};if(a!=null&&a.closest){const d=a.closest(".cow-form-valid-variant");d&&(r=Ht(Ft(d)))}zt(n,r,t)}else a&&((t==null?void 0:t.length)>0&&await yt(t,o),Qt(a,n));setTimeout(()=>{ot()},5e3)},ot=n=>{if(u("===cow cart end",window._cow_ongoing_mode,window._cow_ongoing_close_at_the_end,n),!(n==null?void 0:n.includes("?type=upsell"))){if(window._cow_ongoing_cart&&window.fcsb&&c!=="sconch-store.myshopify.com"){fcsb.openMiniCart(),fcsb.fetchCart(),R();return}window._cow_ongoing_cart&&window._cow_ongoing_cart_data&&(window._cow_ongoing_cart_data.skip_cart===!0&&(window.location.href="/checkout"),c==="meuble-marchand.myshopify.com"?document.querySelector("#btnheader__cart").click():c==="protectmobile-shop.myshopify.com"?document.querySelector(".header__icon--cart").click():c==="ojosviajeros.myshopify.com"&&(window.location.href="/cart"),window._cow_ongoing_close_at_the_end===!0?window._cow_ongoing_mode==="modal"&&R():Jt(),window._cow_ongoing_cart=!1,window._cow_ongoing_cart_data=null,window._cow_ongoing_mode=null,window._cow_ongoing_close_at_the_end=!0),N(!0)}};async function Xt(){const n=await fetch("/cart.json");if(n.status===200)return n.json();throw new Error(`Failed to get request, Shopify returned ${n.status} ${n.statusText}`)}const Kt=(n,t=!1)=>fetch(window.Shopify.routes.root+"cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,quantity:0})}),{fetch:Zt}=window;function Yt(){window.fetch=async(t,e)=>{if(t==="/cart/change"){const i=JSON.parse(e.body),l=parseInt(i.line);if(l&&C[l-1]){const s=C[l-1],r=parseInt(i.quantity);s.block_qty_change===!0&&r>s.quantity&&(i.quantity=s.quantity,e.body=JSON.stringify(i))}}const o=await Zt(t,e),a=typeof t=="string";return a&&(t==null?void 0:t.startsWith("/cart/"))===!1&&setTimeout(function(){X(!1,!0),z()},100),a&&(t!=null&&t.endsWith("/cart/add")||t!=null&&t.endsWith("/cart/add.js"))&&ot(t),a&&ct()==="Symmetry"&&(t!=null&&t.includes("=cart-drawer"))&&setTimeout(function(){N()},500),o};var n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.requestURL=arguments[1],this.addEventListener("load",function(){var t,e;if(u("===cow request completed!",this.requestURL),(t=this.requestURL)!=null&&t.endsWith("/cart/add")||(e=this.requestURL)!=null&&e.endsWith("/cart/add.js"))ot(this.requestURL);else if(this.requestURL==="/cart.js"&&this.responseText)try{const o=JSON.parse(this.responseText);o.items&&o.items.length&&(P=o.items,setTimeout(()=>{N(!1)},100))}catch{}else K.forEach(o=>{o&&typeof(o==null?void 0:o.checkVariantChange)=="function"&&o.checkVariantChange()})}),n.apply(this,arguments)}}function O(n,t){n&&(n.style.opacity=.4,n.style.cursor="not-allowed",n.style.pointerEvents="none",n.tagName==="BUTTON"||n.tagName==="INPUT"?ct()!=="Symmetry"&&c!=="59db4a-2.myshopify.com"&&n.setAttribute("disabled",!0):n.tagName==="INPUT"&&n.setAttribute("max",t))}function z(n=!0){var i,l;const t=document.querySelectorAll(".line-item-property");for(let s=0;s<t.length;s++){const r=t[s],d=r.querySelector(".line-item-property__label");(l=(i=d==null?void 0:d.textContent)==null?void 0:i.trim())!=null&&l.startsWith("_")&&(r.style.display="none")}document.querySelectorAll(".cart__meta-text").forEach(s=>{const r=s.innerHTML.indexOf("_cow_");if(r>-1){const d=s.innerHTML.slice(0,r);s.innerHTML=d}}),document.querySelectorAll(".ajaxcart__product-meta").forEach(s=>{s.textContent.trim().startsWith("_")&&(s.style.display="none")}),document.querySelectorAll("form[action='/cart'], .upcart-cart-body").forEach(s=>{s.querySelectorAll("div, span, strong").forEach(d=>{d.innerHTML&&d.innerHTML.trim().startsWith("_cow_")&&(d.innerHTML.trim().split(":").filter(f=>f).length>=2?d.style.display="none":d.parentNode&&(d.parentNode.style.display="none"))})}),n&&setTimeout(()=>{z(!1)},100)}const te=()=>{Array.from(document.querySelectorAll(tt)).map(e=>Array.from(e.querySelectorAll(".cow-valid-until"))).flat().forEach(e=>{const o=e.textContent.trim();if(!o||isNaN(new Date(o).getTime()))return;const a=new Date(o);let i=null;const l=s=>{const d=s-new Date;if(d<=0){e&&(e.textContent="Reservation has expired"),clearInterval(i);return}const m=Math.floor(d/36e5),f=Math.floor(d%36e5/6e4),v=Math.floor(d%6e4/1e3);if(e){const w=m>0?`${m.toString().padStart(2,"0")}h`:"",y=`${f.toString().padStart(2,"0")}m`,E=`${v.toString().padStart(2,"0")}s`;e.textContent=`Reservation will expire in ${w}${y}${E}`}};l(a),i=setInterval(()=>{l(a)},1e3)})},ee=()=>{document.querySelectorAll(tt).forEach((t,e)=>{var o;(o=t.innerHTML)!=null&&o.includes("cow_countdown")&&(t.innerHTML=t.innerHTML.replace(/cow_countdown:?/g,"").replace(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d{3})?Z?/g,a=>`<div class="cow-valid-until">${a}</div>`),te())})};async function N(n=!0,t=!0){if(u("===cow tryToFindCart",n,t),z(),n){const i=await Xt();i&&i.items&&(P=i.items||[])}if(C=[],P.length&&P.forEach(function(i){const l=!!_.find(r=>r.variant_ids.includes(i.variant_id)||r.variant_ids.length===0&&i.product_id===r.product_id),s=!!_.find(r=>{var d;return(d=r.type)==null?void 0:d.includes("multislot")});C.push({product_id:i.product_id,variant_id:i.variant_id,quantity:i.quantity,block_qty_change:l,block_minus_qty:s,properties:i.properties})}),C.length===0)return;const e='button[class*="increase"], button[name="plus"], button[class*="quantity-selector-toggle"], button[class*="qty__adjust--plus"], *[class*="quantity-up"], .ajaxcart__qty--plus, .increase-quantity, .cart__quantity-plus, [increase-value]',o='button[class*="decrease"], button[name="minus"], button[class*="qty__adjust--minus"], *[class*="quantity-down"], .ajaxcart__qty--minus, .decrease-quantity, .cart__quantity-minus, [decrease-value]';document.querySelectorAll(mt).forEach(function(i){const l=i.querySelectorAll("table tbody tr, .cart__items .cart__item, .cart-items .cart-item-container .cart-item, .table .cartItem");if((l==null?void 0:l.length)===C.length){l.forEach((d,m)=>{const f=C[m];if(d.hasAttribute("data-cowlendar-treated")||(d.setAttribute("data-cowlendar-treated","true"),f.block_qty_change===!1))return;d.querySelectorAll("input[type=number], input[class*='js-qty'], input[is='input-number'], .quantity__plus").forEach(y=>{O(y,f.quantity)}),d.querySelectorAll(e).forEach(y=>{O(y,f.quantity)}),f.block_minus_qty&&d.querySelectorAll(o).forEach(E=>{O(E,f.quantity)})});return}let s=i.querySelectorAll("input[type=number]");s.length===0&&(s=i.querySelectorAll("input[class*='js-qty']")),s.length===0&&(s=i.querySelectorAll("input[is='input-number']")),s.length===C.length&&C.forEach(function(d,m){d.block_qty_change===!0&&O(s[m],d.quantity)});const r=i.querySelectorAll(e);r.length===C.length&&C.forEach(function(d,m){d.block_qty_change===!0&&O(r[m],d.quantity)}),i.querySelectorAll(o),t===!0&&setTimeout(()=>{N(!1,!1),setTimeout(()=>{N(!1,!1)},100)},100)})}const pt=async()=>{if(!P||P.length===0||P.length===0)return;const n=P.filter(e=>e.properties.__cow_valid_until&&new Date(e.properties.__cow_valid_until)<new Date);let t=!1;for(const e of n){const o=_.find(a=>a.variant_ids.includes(e.variant_id));(o==null?void 0:o.slot_lock_remove_expired)===!0&&(await Kt(e.key,!0)).ok&&(t=!0)}t&&window.location.reload()};let L=document.querySelector(".cowlendar-bg"),B=document.querySelector(".cowlendar-modal");(!L||c==="c-p-clearwater-llc.myshopify.com"||c==="claritycoat.myshopify.com"||c==="homepoetry-9298.myshopify.com")&&document.body&&(document.body.insertAdjacentHTML("beforeend","<div class='cowlendar-bg cowlendar-root'><div class='cowlendar-modal'><div id='shopify-cowlendar-widget'></div></div></div>"),L=document.querySelector(".cowlendar-bg.cowlendar-root"),B=L.querySelector(".cowlendar-modal")),B&&c&&B.classList.add(c.replaceAll(".","-"));const A=function(n,t,e=1,o="modal",a=null,i=null){if(console.log("===cow openModal",n,t,e,o,"parent",a,"waitlist",i),L){console.log("===cow modalBg",L);const l=parseInt(e)||1,s=I(),r={shop:c,sid:n,vid:t,qty:l,mode:o,locale:s};a&&(r.parentInternalId=a),i&&(r.wid=i);let d=`https://app.cowlendar.com/cdn/booking/embed?${new URLSearchParams(r).toString()}`;window.COWLENDAR_TEST_MODE&&(d=`https://app.cowlendar.com/cdn/booking/embed?${new URLSearchParams(r).toString()}`),B.innerHTML=`<div class="cow-loader"></div><iframe class="cowlendar-iframe" src="${d}" width="100%" height="100%"></iframe>`,document.body.classList.add("cowlendar-overflow-fixed"),L.style.display="block";const m=B.querySelector("iframe"),f=B.querySelector(".cow-loader");if(h!=null&&h.widget_shadow_enabled&&(h!=null&&h.widget_shadow_size)){const v=Ot(h.widget_shadow_color,h.widget_shadow_opacity);m.style.boxShadow=`0 0 0 ${h.widget_shadow_size}px ${v}`}m.addEventListener("load",()=>{f.remove(),console.log("===cow remove iframe loading")})}},oe=function(n,t,e,o=1){if(n){const a=parseInt(o)||1,i=I(),l=`https://app.cowlendar.com/cdn/booking/embed?shop=${c}&sid=${t}&vid=${e}&qty=${a}&mode=standalone-inline&locale=${i}`;n.innerHTML=`<div class="cowlendar-inline-wrapper"><div class="cow-loader"></div><iframe class="cowlendar-iframe" src="${l}" width="100%" height="100%"></iframe></div>`;const s=n.querySelector("iframe"),r=n.querySelector(".cow-loader");s.addEventListener("load",()=>{r.remove()})}},R=function(){B&&B.classList.remove("cow-modal-shrinked"),L&&(document.body.classList.remove("cowlendar-overflow-fixed"),L.style.display="none",Z&&(location.href=Z))},ne=({service_id:n,variant_id:t=null,parent_internal_id:e=null},o="modal")=>{R(),window._cow_addtocart_button_method="custom",A(n,t,1,o,e)},J=(n,t,e=0)=>{const o=document.createElement("div");o.innerHTML=t,o.classList=`cowlendar-btn cowlendar-hidden cowlendar-btn-${e}`;const a=window.getComputedStyle(n);if(a.cssText!=="")o.style.cssText=a.cssText;else{const i=Object.values(a).reduce((l,s)=>`${l}${s}:${a.getPropertyValue(s)};`);o.style.cssText=i}return o},ae=n=>n.querySelector(ut),ie=n=>{let t=null,e=0;for(;!t&&e++<10&&n.parentNode;)t=ae(n.parentNode),n=n.parentNode;return t},re=(n,t,e=3)=>{let o=null,a=0;for(;!o&&a++<e&&n.parentNode;)n.parentNode.querySelector(t)&&(o=n.parentNode),n=n.parentNode;return o},se=(n,t,e,o=3)=>{let a=null,i=0;for(;!a&&i++<o&&n.parentNode;){const l=n.parentNode.querySelector(t),s=n.parentNode.querySelector(e),r=n.parentNode.querySelectorAll("form[action$='/cart/add'][method='post']").length;l&&s&&r<=1&&(a=n.parentNode),n=n.parentNode}return a},V=(n,t)=>{var e;if(n)if(n.nodeType===Node.TEXT_NODE){const o=(e=n.textContent)==null?void 0:e.trim();o&&/^[\p{L}\s]{3,}$/u.test(o)&&(n.textContent=t)}else for(let o=0;o<n.childNodes.length;o++)V(n.childNodes[o],t)},U=(n,t)=>{var a;const e=((a=_==null?void 0:_[0])==null?void 0:a.book_now_default_label)||"Book now";let o=n?n.btn_label:e;if(n&&n.book_now_default_label&&(o=n.book_now_default_label),n&&n.use_multilanguage===!0&&n.book_now_labels){const i=Object.keys(n.book_now_labels).find(l=>l===t||l.slice(0,2)===t.slice(0,2));i&&n.book_now_labels[i]&&(o=n.book_now_labels[i])}return o},I=()=>{let n=Shopify.locale||"en";return(h==null?void 0:h.multilanguage_source)==="user_navigator"&&navigator.language&&(n=navigator.language),n};window._cowGetUserLocale=I;class ce{constructor(t){var l,s;if(console.log("===cow init MyForm",t),this.form=t,this.form.setAttribute("data-cowlendar-form",!0),this.productId=typeof __st<"u"&&__st.rid?__st.rid:null,window.location.pathname.includes("/products/")===!1){const r=this.form.getAttribute("id");r&&r.startsWith("product_form_")&&(this.productId=parseInt(r.replace("product_form_","")))}c&&this.form.classList.add(c.replaceAll(".","-")),this.variantEl=this.form.querySelector(ut);const e=window.location.pathname||"",o=(e==null?void 0:e.split("/"))||[],a=((l=o==null?void 0:o[1])==null?void 0:l.length)===2||((s=o==null?void 0:o[1])==null?void 0:s.length)===5,i=(o==null?void 0:o[1])==="products"||(o==null?void 0:o[1])==="collections"&&(o==null?void 0:o[3])==="products"||a&&(o==null?void 0:o[2])==="products";if(!this.variantEl&&i&&c==="righteous-gelato.myshopify.com"&&(this.variantEl="custom"),!this.variantEl&&i&&(this.variantEl=ie(this.form)),this.variantEl){if(u("===cow found variant field",this.variantEl),this.variantId=this.getVariantValue(),this.qtyEl=this.form.querySelector("input[name=quantity], select[name=quantity]"),!this.qtyEl&&window.location.pathname.startsWith("/products/")&&(this.qtyEl=document.querySelector("input[name=quantity], select[name=quantity]")),c==="barneys-salon-supplies.myshopify.com"&&window.location.href.includes("/products/")){const r=document.querySelector(".product__quantity .js-qty__num");r&&(this.qtyEl=r)}u("===cow found qty field",this.qtyEl),this.qty=this.qtyEl?this.qtyEl.value:1,this.init()}else u("===cow Did not find variant field :(")}getVariantValue(){if(c==="righteous-gelato.myshopify.com"&&this.variantEl==="custom"){const t=this.form.getAttribute("data-selected-variant");return parseInt(t)}else if(c==="babycbc.myshopify.com"){const e=new URLSearchParams(window.location.search).get("variant");if(e){const o=parseInt(e),a=_.find(i=>i.variant_ids.includes(o)||i.variant_ids.length===0&&i.product_id===this.productId);return this.serviceId=a?a.service_id:null,e}}return parseInt(this.variantEl.value)}getAddToCartButtons(){let t=Array.from(this.form.querySelectorAll(dt));if(c==="vannaksemshop.myshopify.com"){const o=this.form.querySelector(".cart_extra");o&&(t=Array.from(o.querySelectorAll(dt)))}return t.filter(o=>{const a=o.tagName==="BUTTON"||o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="A",i=o.classList.contains("shopify-payment-btn");return a||i})}checkVariantChange(){this.variantEl&&this.variantId!==parseInt(this.variantEl.value)&&(u("=== cow interval variant change [checkVariantChange]",this.variantId,parseInt(this.variantEl.value)),this.selectedVariantChange(this.variantEl.value))}init(){var e,o,a,i;const t=this.getAddToCartButtons();if(t.forEach(l=>{l.classList.add("cowlendar-add-to-cart")}),u("===cow find add to cart btn",t),t&&t.length>0){const l=_.find(b=>b.variant_ids.includes(this.variantId)||b.variant_ids.length===0&&b.product_id===this.productId);l!=null&&l.hide_variants_selector&&document.body.classList.add("cow-hide-selectors");const s=I(),r=U(l,s);let d=t[0].getAttribute("class");d=d.replace("ajax-submit","").replace("add_to_cart","").replace("cowlendar-add-to-cart","").replace("qbk-hide-button","");const m=(h==null?void 0:h.button_type)||"complex",f=m==="copy"||W.includes(c),v=m==="simple"||Q.includes(c),w=m==="complex"||!v&&((o=(e=t[0])==null?void 0:e.innerHTML)==null?void 0:o.includes("<"))&&((i=(a=t[0])==null?void 0:a.innerHTML)==null?void 0:i.includes(">"));if(u("===cow buttonType",m),f){const b=J(t[0],r);t[0].insertAdjacentElement("afterend",b)}else if(w){t[0].insertAdjacentHTML("afterend",`<button type="button" class="cowlendar-btn cowlendar-hidden ${d}">${t[0].innerHTML}</button>`);const b=this.form.querySelector(".cowlendar-btn");setTimeout(()=>{V(b,r)})}else t[0].insertAdjacentHTML("afterend",`<button type="button" class="cowlendar-btn cowlendar-hidden ${d}">${r}</button>`);const y=this.form.querySelector(".cowlendar-btn"),E=b=>{b.stopPropagation(),b.preventDefault();const T=y.classList.contains("cowlendar-hidden");c==="1fdce4-2.myshopify.com"&&T||this.openModal()};(c==="4a5c68-3.myshopify.com"||c==="monkscoffeeroasters.myshopify.com")&&(y.addEventListener("touchstart",E),y.addEventListener("touchend",E)),y.addEventListener("click",E);const g=this;this.selectedVariantChange(this.variantId),this.variantEl.addEventListener("change",function(){u("===cow detect a variant change",this.value),g.selectedVariantChange(this.value)}),window.$&&$("[data-single-option-selector], .single-option-selector",this.form).on("change",()=>{var b;(b=this.variantEl)!=null&&b.value&&(u("===cow detect a variant change with jquery",this.variantEl.value),g.selectedVariantChange(this.variantEl.value))}),this.qtyEl&&this.qtyEl.addEventListener("change",function(){u("===cow detect a qty change",this.value),g.qty=this.value}),c==="scarlet-sage-herb.myshopify.com"&&setInterval(()=>{this.variantEl&&this.variantId!==parseInt(this.variantEl.value)&&(u("=== cow interval variant change",this.variantId,parseInt(this.variantEl.value)),this.selectedVariantChange(this.variantEl.value))},1e3),c==="kouii.myshopify.com"&&setInterval(()=>{this.form.querySelectorAll(".cowlendar-add-to-cart").forEach(function(T){T.style.display&&T.style.removeProperty&&T.style.removeProperty("display")})},1e3),Array.from(this.form.querySelectorAll(".list-swatch-items, .variants__options, .ProductForm__Option")).forEach(b=>{b.addEventListener("click",()=>{setTimeout(()=>{this.variantEl&&(u("===cow detect a variant change",this.variantEl.value),g.selectedVariantChange(this.variantEl.value||"00000000"))},100)})}),Y.addEventListener("cow_variant_update",b=>{var D;let T=(D=b.detail)==null?void 0:D.value;c==="righteous-gelato.myshopify.com"&&(T=g.getVariantValue()),u("===cow detect a variant change (cow_variant_update)",T),g.selectedVariantChange(T)},!1)}}openModal(){let t=this.variantId||null,e=this.qty||1;this.qtyEl&&this.qtyEl.value&&(e=this.qtyEl.value),c==="6b80ab-b7.myshopify.com"&&(this.variantEl=this.form.querySelector('input[name="id"]')),this.variantEl&&this.variantEl.value&&(t=this.variantEl.value,this.selectedVariantChange(t)),c==="righteous-gelato.myshopify.com"?t=this.getVariantValue():c==="babycbc.myshopify.com"&&(t=this.getVariantValue());const o=this.form.querySelector(et);if(o){window._cow_addtocart_button=o,window._cow_qty_element=this.qtyEl;const i=window.fcsb;(ht.includes(c)||i||(h==null?void 0:h.use_virtual_form)===!0)&&(window._cow_addtocart_button_method="custom")}this.getAddToCartButtons().forEach(i=>{i.classList.contains("cowlendar-btn")===!1&&i.classList.add("cowlendar-add-to-cart")}),u("===cow open modal",this.serviceId,t,e),A(this.serviceId,t,e)}selectedVariantChange(t){if(!t)return;u("===cow selected variant",t),this.getAddToCartButtons().filter(i=>!i.classList.contains("cowlendar-btn")&&!i.classList.contains("cowlendar-add-to-cart")).forEach(i=>{i.classList.add("cowlendar-add-to-cart")});const o=parseInt(t),a=_.find(i=>i.variant_ids.includes(o)||i.variant_ids.length===0&&i.product_id===this.productId);if(u("===cow matching service",a),this.serviceId=a?a.service_id:null,this.variantId=a?o:null,a){c==="b36e16-2.myshopify.com"?H(".product-add-to-cart-sticky"):c==="boutique-madolaine.myshopify.com"&&(H(".zrx-sticky-atc-bar"),setTimeout(()=>H(".zrx-sticky-atc-bar"),1e3),setTimeout(()=>H(".zrx-sticky-atc-bar"),1500),setTimeout(()=>H(".zrx-sticky-atc-bar"),2e3)),this.showBookNowBtn();const i=document.querySelector(".cowlendar-btn");setTimeout(()=>{const l=I(),s=U(a,l);V(i,s)})}else this.hideBookNowBtn()}showBookNowBtn(t=!0){u("===cow show book now btn"),this.form.classList.remove("cow-form-no-match"),this.form.classList.add("cow-form-valid-variant");const e=this.form.querySelector(".cowlendar-btn");u("===cow cowlendarBtn to show",e),e&&e.classList.remove("cowlendar-hidden"),this.form.querySelectorAll(".cowlendar-add-to-cart").forEach(function(i){i.classList.add("cowlendar-hidden")}),this.form.querySelectorAll(M).forEach(function(i){i.classList.add("cowlendar-hidden")}),t&&(setTimeout(()=>{this.showBookNowBtn(!1)},100),c==="honn-jewelry.myshopify.com"&&setTimeout(()=>{this.showBookNowBtn(!1)},1e3))}hideBookNowBtn(t=!0){u("===cow hide book now btn"),this.form.classList.add("cow-form-no-match"),this.form.classList.remove("cow-form-valid-variant");const e=this.form.querySelector(".cowlendar-btn");u("===cow cowlendarBtn to hide",e),e&&e.classList.add("cowlendar-hidden"),this.form.querySelectorAll(".cowlendar-add-to-cart").forEach(function(i){i.classList.remove("cowlendar-hidden")}),this.form.querySelectorAll(M).forEach(function(i){i.classList.remove("cowlendar-hidden")}),t&&setTimeout(()=>{this.hideBookNowBtn(!1)},100)}}class G{constructor(t,e,o){console.log("===cow init MyFormCustom"),this.qty=1,this.addToCartBtn=t,this.variantEl=e,this.productId=typeof __st<"u"&&__st.rid?__st.rid:null,this.variantId=parseInt(this.variantEl.value),o&&(this.qtyEl=o,this.qty=parseInt(this.qtyEl.value)),this.init()}init(){var m,f,v,w;let t=document.querySelector(".cowlendar-btn");if(t)return;this.addToCartBtn.classList.add("cowlendar-add-to-cart");const e=_.find(y=>y.variant_ids.includes(this.variantId)||y.variant_ids.length===0&&y.product_id===this.productId);e!=null&&e.hide_variants_selector&&document.body.classList.add("cow-hide-selectors");const o=I(),a=U(e,o);let i=this.addToCartBtn.getAttribute("class");i=i.replace("ajax-submit","").replace("add_to_cart","").replace("cowlendar-add-to-cart","");const l=(h==null?void 0:h.button_type)||"complex",s=l==="copy"||W.includes(c),r=l==="simple"||Q.includes(c),d=l==="complex"||!r&&((f=(m=this.addToCartBtn)==null?void 0:m.innerHTML)==null?void 0:f.includes("<"))&&((w=(v=this.addToCartBtn)==null?void 0:v.innerHTML)==null?void 0:w.includes(">"));if(u("===cow buttonType",l),s){const y=J(this.addToCartBtn,a);this.addToCartBtn.insertAdjacentElement("afterend",y)}else if(d){this.addToCartBtn.insertAdjacentHTML("afterend",`<button type="button" class="cowlendar-btn cowlendar-hidden ${i}">${this.addToCartBtn.innerHTML}</button>`);const y=document.querySelector(".cowlendar-btn");setTimeout(()=>{V(y,a)})}else this.addToCartBtn.insertAdjacentHTML("afterend",`<button type="button" class="cowlendar-btn cowlendar-hidden ${i}">${a}</button>`);t=document.querySelector(".cowlendar-btn"),t.addEventListener("click",y=>{y.stopPropagation(),y.preventDefault(),this.openModal()}),this.selectedVariantChange(this.variantEl.value),this.variantEl.addEventListener("change",()=>{u("===cow detect a variant change",this.value),this.selectedVariantChange(this.value)})}openModal(){let t=this.variantId||null,e=this.qty||1;this.qtyEl&&(e=this.qtyEl.value),this.variantEl&&this.variantEl.value&&(t=this.variantEl.value),this.addToCartBtn&&(window._cow_addtocart_button=this.addToCartBtn),u("===cow open modal",this.serviceId,t,e),A(this.serviceId,t,e)}selectedVariantChange(t){if(!t)return;u("===cow selected variant",t);const e=parseInt(t),o=_.find(a=>a.variant_ids.includes(e)||a.variant_ids.length===0&&a.product_id===this.productId);u("===cow matching service",o),this.serviceId=o?o.service_id:null,this.variantId=o?e:null,o?this.showBookNowBtn():this.hideBookNowBtn()}showBookNowBtn(){document.querySelector(".cowlendar-btn").classList.remove("cowlendar-hidden"),document.querySelector(".cowlendar-add-to-cart").classList.add("cowlendar-hidden"),document.querySelectorAll(M).forEach(a=>{a.classList.add("cowlendar-hidden")})}hideBookNowBtn(){document.querySelector(".cowlendar-btn").classList.add("cowlendar-hidden"),document.querySelector(".cowlendar-add-to-cart").classList.remove("cowlendar-hidden"),document.querySelectorAll(M).forEach(a=>{a.classList.remove("cowlendar-hidden")})}}const j=(n,t="")=>_.find(o=>n&&o.variant_ids.includes(parseInt(n))||t&&o.variant_ids.length===0&&o.product_id===t);class le{constructor(t,e=0){console.log("===cow init NewGenerationForm"),this.qty=1,this.addToCartBtnPath=t,this.defaultVariant=e,this.init(),this.triggerVariantChange(),window.navigation.addEventListener("navigate",o=>{console.log("===cow variant changed !"),this.triggerVariantChange()})}init(){let t=document.querySelector(".cowlendar-btn");if(t)return;let e=[];typeof this.addToCartBtnPath=="object"?e=[this.addToCartBtnPath]:e=document.querySelectorAll(this.addToCartBtnPath),e.forEach(s=>{s.classList.add("cowlendar-add-to-cart")});const o=F(this.defaultVariant),a=j(o);a!=null&&a.hide_variants_selector&&document.body.classList.add("cow-hide-selectors");const i=I(),l=U(a,i);e.forEach((s,r)=>{var y,E;let d=s.getAttribute("class");d=d.replace("ajax-submit","").replace("add_to_cart","").replace("cowlendar-add-to-cart","");const m=(h==null?void 0:h.button_type)||"complex",f=m==="copy"||W.includes(c),v=m==="simple"||Q.includes(c),w=m==="complex"||!v&&((y=s==null?void 0:s.innerHTML)==null?void 0:y.includes("<"))&&((E=s==null?void 0:s.innerHTML)==null?void 0:E.includes(">"));if(u("===cow buttonType",m),f){const g=J(s,l,r);s.insertAdjacentElement("afterend",g)}else if(w){s.insertAdjacentHTML("afterend",`<button type="button" class="cowlendar-btn cowlendar-btn-${r} ${d}" style="display: none !important;">${s.innerHTML}</button>`);const g=document.querySelector(`.cowlendar-btn.cowlendar-btn-${r}`);setTimeout(()=>{V(g,l)})}else s.insertAdjacentHTML("afterend",`<button type="button" class="cowlendar-btn cowlendar-btn-${r} ${d}" style="display: none !important;">${l}</button>`);t=document.querySelector(`.cowlendar-btn.cowlendar-btn-${r}`),t&&t.addEventListener("click",g=>{g.stopPropagation(),g.preventDefault(),this.openModal()})})}openModal(){const e=F(this.defaultVariant),a=j(e).service_id;u("===cow open modal [NewGenerationForm]",a,e,1),A(a,e,1)}triggerVariantChange(){const t=F(this.defaultVariant);if(!t)return;u("===cow selected variant [NewGenerationForm]",t);const e=j(t);u("===cow matching service [NewGenerationForm] !!",e),e?this.toggleBtn(!0):this.toggleBtn(!1)}toggleBtn(t=!0){this.realToggleBtn(t),setTimeout(()=>{const e=document.querySelectorAll(".cowlendar-btn");(e==null?void 0:e.length)===0&&(this.init(),this.realToggleBtn(t))},100)}realToggleBtn(t=!0){document.querySelectorAll(".cowlendar-btn").forEach(i=>{i.style.setProperty("display",t?"block":"none","important")}),document.querySelectorAll(".cowlendar-add-to-cart").forEach(i=>{i.style.setProperty("display",t?"none":"block","important")}),document.querySelectorAll(M).forEach(i=>{i.style.setProperty("display",t?"none":"block","important")})}}class wt{constructor({formElement:t,submitBtnPath:e,variantPath:o,variantValueAttr:a,qtyPath:i,cssDisplayValue:l="block",treatAllBtns:s=!0}){this.qty=1,this.formElement=t,this.submitBtnPath=e,this.variantPath=o,this.variantValueAttr=a,this.qtyPath=i,this.cssDisplayValue=l,this.treatAllBtns=s,this.isValid=!1;const r=window.location.href.includes("/products/"),d=this.formElement.querySelector(this.variantPath),m=this.formElement.querySelector(this.submitBtnPath);if(!(!!d&&!!m)){const w=se(this.formElement,this.variantPath,this.submitBtnPath,3);if(!w)return;this.formElement=w}if(this.formElement.getAttribute("data-cow-form-child"))return;this.isValid=!0,this.formElement.setAttribute("data-cow-form-child",!0);const v=this.formElement.querySelector(this.qtyPath);if(r&&!v){const w=re(this.formElement,this.qtyPath,3);w&&(this.formElement=w)}this.init(),this.toggleVisibility()}refresh(){u("===cow refresh [MasterFormChild]"),this.init(),this.toggleVisibility()}getVariantId(){var e,o;let t=(e=this.formElement.querySelector(this.variantPath))==null?void 0:e.value;return this.variantValueAttr!=="value"&&this.variantValueAttr.startsWith("data-")&&(t=(o=this.formElement.querySelector(this.variantPath))==null?void 0:o.getAttribute(this.variantValueAttr)),parseInt(t??0)}getQty(){var e;const t=(e=this.formElement.querySelector(this.qtyPath))==null?void 0:e.value;return parseInt(t??1)}init(){["nelson-box.myshopify.com","kellys-kuttings.myshopify.com","moonhub-ch.myshopify.com"].includes(c)&&this.formElement.querySelectorAll(this.submitBtnPath).forEach(d=>d.classList.add("cowlendar-add-to-cart"));let e=this.formElement.querySelector(".cowlendar-btn");if(e)return;let o=[];this.treatAllBtns?o=this.formElement.querySelectorAll(this.submitBtnPath):o=[this.formElement.querySelector(this.submitBtnPath)],o.forEach(r=>{r.classList.add("cowlendar-add-to-cart")});const a=this.getVariantId(),i=j(a);i!=null&&i.hide_variants_selector&&document.body.classList.add("cow-hide-selectors");const l=I(),s=U(i,l);o.forEach((r,d)=>{var E,g;let m=r.getAttribute("class");m=m.replace("ajax-submit","").replace("add_to_cart","").replace("cowlendar-add-to-cart","");const f=(h==null?void 0:h.button_type)||"complex",v=f==="copy"||W.includes(c),w=f==="simple"||Q.includes(c),y=f==="complex"||!w&&((E=r==null?void 0:r.innerHTML)==null?void 0:E.includes("<"))&&((g=r==null?void 0:r.innerHTML)==null?void 0:g.includes(">"));if(u("===cow buttonType [MasterFormChild]",f,r),v){const k=J(r,s,d);r.insertAdjacentElement("afterend",k)}else if(y){r.insertAdjacentHTML("afterend",`<button type="button" class="cowlendar-btn cowlendar-btn-${d} ${m}" style="display: none !important;">${r.innerHTML}</button>`);const k=this.formElement.querySelector(`.cowlendar-btn.cowlendar-btn-${d}`);setTimeout(()=>{V(k,s)})}else r.insertAdjacentHTML("afterend",`<button type="button" class="cowlendar-btn cowlendar-btn-${d} ${m}" style="display: none !important;">${s}</button>`);e=this.formElement.querySelector(`.cowlendar-btn.cowlendar-btn-${d}`),e&&e.addEventListener("click",k=>{k.stopPropagation(),k.preventDefault(),this.openModal()})})}toggleVisibility(){const t=this.formElement.querySelector(".cowlendar-add-to-cart"),e=["uplay-sg.myshopify.com"];if(t&&t.disabled&&!e.includes(c)){u("===cow toggleVisibility [MasterFormChild] shopify button is disabled",t),this.toggleBtn(!1);return}const o=this.getVariantId(),a=j(o);u("===cow findService [MasterFormChild]",o,!!a,this.formElement),a?this.toggleBtn(!0):this.toggleBtn(!1)}openModal(){const t=this.getQty(),e=this.getVariantId(),a=j(e).service_id,i=this.formElement.querySelector(".cowlendar-add-to-cart");i&&(window._cow_addtocart_button=i);const l=window.fcsb;(ht.includes(c)||l||(h==null?void 0:h.use_virtual_form)===!0)&&(window._cow_addtocart_button_method="custom"),u("===cow open modal [MasterFormChild]",a,e,t),A(a,e,t)}toggleBtn(t=!0){this.realToggleBtn(t)}realToggleBtn(t=!0){this.formElement.querySelectorAll(".cowlendar-btn").forEach(a=>{a.style.setProperty("display",t?this.cssDisplayValue:"none","important")}),this.formElement.querySelectorAll(".cowlendar-add-to-cart").forEach(a=>{t?a.style.setProperty("display","none","important"):a.style.removeProperty("display")}),c!=="425881-2.myshopify.com"&&this.formElement.querySelectorAll(M).forEach(i=>{i.style.setProperty("display",t?"none":this.cssDisplayValue,"important")})}}class p{constructor({formPath:t='form[method="post"][action$="/cart/add"]',submitBtnPath:e='button[type="submit"], input[type="submit"]',variantPath:o='[name="id"]',variantValueAttr:a="value",qtyPath:i='[name="quantity"]',cssDisplayValue:l="block",treatAllBtns:s=!0,blockNextInit:r=!0}={}){if(console.log("===cow init MasterForm"),this.qty=1,this.formPath=t,this.submitBtnPath=e,this.variantPath=o,this.variantValueAttr=a,this.qtyPath=i,this.cssDisplayValue=l,this.treatAllBtns=s,document.body.getAttribute("data-cow-initied"))return;r&&document.body.setAttribute("data-cow-initied",!0);const m=window.location.href.includes("/products/");this.forms=[],document.querySelectorAll(this.formPath).forEach(v=>{const w=new wt({formElement:v,submitBtnPath:this.submitBtnPath,variantPath:this.variantPath,variantValueAttr:this.variantValueAttr,qtyPath:this.qtyPath,cssDisplayValue:this.cssDisplayValue,treatAllBtns:this.treatAllBtns});w.isValid&&this.forms.push(w)}),this.observer(),m&&window.navigation.addEventListener("navigate",()=>{this.askRefresh()})}askRefresh(){this.forms.forEach(t=>{t&&typeof(t==null?void 0:t.refresh)=="function"&&t.refresh()})}observer(){this.searchNewFormsDebounced=Ut(()=>{this.searchNewForms(),this.askRefresh()},200);const t=a=>{a.forEach(i=>{i.type==="childList"&&i.addedNodes.length>0&&this.searchNewFormsDebounced()})},e=new MutationObserver(t),o={childList:!0,subtree:!0};e.observe(document.body,o)}searchNewForms(){document.querySelectorAll(".quick-add-modal, .right-drawer-vue, .drawer__content .product-form, .product-parent, quick-buy-drawer").forEach(e=>{const o=new wt({formElement:e,submitBtnPath:this.submitBtnPath,variantPath:this.variantPath,variantValueAttr:this.variantValueAttr,qtyPath:this.qtyPath,cssDisplayValue:this.cssDisplayValue,treatAllBtns:this.treatAllBtns});o.isValid&&this.forms.push(o)})}}function X(n=!1,t=!1){var E,g,k,b,T,D,vt,gt,qt,Et,St,Bt,Tt,Ct,Lt,At,kt,Pt,It,Nt,Mt,$t,Vt,jt,xt;if(u("===cow Search form. Services count:",_==null?void 0:_.length),z(),_.length===0)return;if(t&&c==="adventures-archery.myshopify.com"){document.querySelector(".cowlendar-btn")||K.forEach(S=>S.init());return}const e=window.location.href.includes("/products/"),o=((E=Shopify==null?void 0:Shopify.theme)==null?void 0:E.theme_store_id)===887||((g=Shopify==null?void 0:Shopify.theme)==null?void 0:g.schema_name)==="Dawn",a=((k=Shopify==null?void 0:Shopify.theme)==null?void 0:k.theme_store_id)===855||((b=Shopify==null?void 0:Shopify.theme)==null?void 0:b.schema_name)==="Prestige",i=((T=Shopify==null?void 0:Shopify.theme)==null?void 0:T.theme_store_id)===847||((D=Shopify==null?void 0:Shopify.theme)==null?void 0:D.schema_name)==="Motion",l=((vt=Shopify==null?void 0:Shopify.theme)==null?void 0:vt.theme_store_id)===714||((gt=Shopify==null?void 0:Shopify.theme)==null?void 0:gt.schema_name)==="Focal",s=((qt=Shopify==null?void 0:Shopify.theme)==null?void 0:qt.theme_store_id)===1356||((Et=Shopify==null?void 0:Shopify.theme)==null?void 0:Et.schema_name)==="Sense",r=((St=Shopify==null?void 0:Shopify.theme)==null?void 0:St.theme_store_id)===1368||((Bt=Shopify==null?void 0:Shopify.theme)==null?void 0:Bt.schema_name)==="Craft",d=((Tt=Shopify==null?void 0:Shopify.theme)==null?void 0:Tt.theme_store_id)===1500||((Ct=Shopify==null?void 0:Shopify.theme)==null?void 0:Ct.schema_name)==="Ride",m=((Lt=Shopify==null?void 0:Shopify.theme)==null?void 0:Lt.theme_store_id)===1567||((At=Shopify==null?void 0:Shopify.theme)==null?void 0:At.schema_name)==="Refresh",f=((kt=Shopify==null?void 0:Shopify.theme)==null?void 0:kt.theme_store_id)===1190||((Pt=Shopify==null?void 0:Shopify.theme)==null?void 0:Pt.schema_name)==="Impact",v=o||a||i||l||s||r||d||m||f;if(c==="carismodesign.myshopify.com"){if(e&&!_.find(S=>window.location.href.includes(`/products/${S.product_handle}`))){u("===cow script is blocked for this page");return}}else if(n&&c==="adventures-archery.myshopify.com"&&e){const q=document.querySelector('form[method="post"][action$="/cart/add"] button[type=submit]'),S=document.querySelector('form[method="post"][action$="/cart/add"] input[name=id]');new G(q,S);return}else if(n&&c==="meuble-marchand.myshopify.com"&&e){const q=document.querySelector(".pdp__add-to-cart"),S=document.querySelector("input[type=hidden].cow-variant-id"),x=document.querySelector("input[name='atc-quantity']");if(!S&&((Nt=(It=meta==null?void 0:meta.product)==null?void 0:It.variants)==null?void 0:Nt.length)===1){const at=`<form class="cow-form"><input type="hidden" class="cow-variant-id" value="${($t=(Mt=meta==null?void 0:meta.product)==null?void 0:Mt.variants)==null?void 0:$t[0].id}" /></form>`;q.insertAdjacentHTML("beforeend",at);const it=document.querySelector("input[type=hidden].cow-variant-id");new G(q,it,x);return}}else if(n&&c==="2cf46a.myshopify.com"&&e){const q=document.querySelector(".add-to-cart"),S=typeof __st<"u"&&__st.rid?__st.rid:null;if(q&&S){const x=_.find(nt=>nt.product_id===S);if(x){const at=`<form class="cow-form"><input type="hidden" class="cow-variant-id" value="${(Vt=x.variant_ids)==null?void 0:Vt[0]}" /></form>`;q.insertAdjacentHTML("beforeend",at);const it=document.querySelector("input[type=hidden].cow-variant-id");new G(q,it);return}}}else if(c==="yann-couvreur-dev.myshopify.com"&&e){const q=document.querySelector(".js-product-btn-add-to-cart"),S=document.querySelector("input[name='variant-id']"),x=document.querySelector("input[name='quantity']");window._cow_addtocart_button_method="custom",new G(q,S,x);return}else if(c==="hazelvillage.myshopify.com"){new le(".ProductButton");return}else if(c==="warmnfuzzy.myshopify.com"){new p({variantPath:"input[name='id']"});return}else if(c==="0tvrkx-2e.myshopify.com"){new p({formPath:".item-info"});return}else{if(c==="b1c2c2-6c.myshopify.com"&&((jt=Shopify==null?void 0:Shopify.theme)==null?void 0:jt.theme_store_id)===887)return new p({variantPath:".product-variant-id"});if(c==="611623-bd.myshopify.com")return new p({formPath:".product__info-container",variantPath:".product-form [name='id']"});if(v||["266ee1-cd.myshopify.com","kesaris-luxury.myshopify.com","kaimon-japanese-food.myshopify.com","6b80ab-b7.myshopify.com","4b197d-93.myshopify.com","aqua-fun-shop.myshopify.com","hcsierre24.myshopify.com","nelson-box.myshopify.com","425881-2.myshopify.com","vetiver-aromatics.myshopify.com","dope-crochet.myshopify.com","arcolawn.myshopify.com","8eff8b-01.myshopify.com","1nbu5r-rk.myshopify.com","1e1894.myshopify.com","2b203d.myshopify.com","livealittlellc.myshopify.com","kellys-kuttings.myshopify.com","00wywn-r8.myshopify.com","artmasterclasscom.myshopify.com","uplay-sg.myshopify.com","5935d0-2f.myshopify.com","fitaz-functional-kinetics.myshopify.com","moonhub-ch.myshopify.com","carismodesign.myshopify.com"].includes(c))return new p;if(c==="e7e428-5f.myshopify.com")return new p({formPath:".product-single__box"});if(c==="fb24a6-ad.myshopify.com")return new p({formPath:".product__content",submitBtnPath:".product__form button[type='submit']",variantPath:"product-selector [name='id']",variantValueAttr:"value",treatAllBtns:!1});if(c==="kib-mubader.myshopify.com")return e&&new p({submitBtnPath:".btn-addtocart",blockNextInit:!1}),new p({submitBtnPath:".tt-btn-addtocart"});if(c==="homepoetry-9298.myshopify.com")return new p;if(c==="maison-lavande-express.myshopify.com")return new p(e?{}:{formPath:".product-card__image-wrapper",variantPath:"button.product-card__quick-add",submitBtnPath:"button.product-card__quick-add",variantValueAttr:"data-quick-add"});if(c==="b1a607-92.myshopify.com"&&((xt=Shopify==null?void 0:Shopify.theme)==null?void 0:xt.theme_store_id)===1926){const q=document.querySelector("button[type='submit'].no-js");return q&&q.remove(),new p({formPath:".product__content",variantPath:".product__selector [name='id']"})}else if(c==="candlefish1.myshopify.com"){new p({formPath:".product-info",submitBtnPath:".button"});return}else if(c==="artistaink.myshopify.com"){e?new p({cssDisplayValue:"inline-block"}):new p({formPath:".atc--button",submitBtnPath:".productitem--action-atc",variantPath:"[data-variant-id]",variantValueAttr:"data-variant-id"});return}else if(c==="flowintimates-com-au.myshopify.com"){new p({formPath:".product__grid",submitBtnPath:".button-action"});return}else if(c==="wix-manila.myshopify.com"){new p({formPath:".product__form",submitBtnPath:"[type='submit']"});return}else if(c==="naipo-germany.myshopify.com"&&Shopify.theme.name==="naipo-new-2"){new p;return}else if(c==="183zjr-0c.myshopify.com"){e?new p:new p({submitBtnPath:"button.btn--primary"});return}else if(c==="yqhj0j-da.myshopify.com"){e&&new p;return}else if(c==="b-golden-jewelry-school.myshopify.com"){new p({submitBtnPath:"button.product-buy-buttons--primary"});return}}const w=["form[action$='/cart/add'][method='post']",'form[data-type="add-to-cart-form"]',".ajax-product-form",".product-single__form","#addtc-sticky-bar",".cow-form"];document.querySelectorAll(w.join(", ")).forEach(function(q){if(!q.getAttribute("data-cowlendar-form")){u("===cow Found new form!",q);try{const S=new ce(q);K.push(S)}catch(S){u("===err",S)}}})}const de=()=>{document.querySelectorAll('[href^="https://app.cowlendar.com/cal/"], [data-cowlendar-btn], [data-cowlendar-inline]').forEach(t=>{const e=t.getAttribute("data-cowlendar-inline");if(e){const[o,a]=e.split("-");oe(t,o,a,1)}t.addEventListener("click",o=>{if(o.preventDefault(),o.stopPropagation(),t.href){const[a,i]=t.href.replace("https://app.cowlendar.com/cal/","").split("/");A(a,i,1,"standalone-modal")}else if(t.getAttribute("data-cowlendar-btn")){const a=t.getAttribute("data-cowlendar-btn"),[i,l]=a.split("-");A(i,l,1,"standalone-modal")}})})},ue=()=>{const n=new URLSearchParams(window.location.search),t=n.get("cow_sid"),e=n.get("cow_vid"),o=n.get("cow_wid");t&&e&&o?A(t,e,1,"standalone-modal",null,o):t&&e&&A(t,e,1,"standalone-modal")},me=async function(){if(st)return;if(u("===cow init"),L&&L.addEventListener("click",s=>{s.target.className.includes("cowlendar-bg")&&R()}),!c)return Promise.reject();st=!0,u("===cow real init"),de(),ue();const n=new Date,t=n.getHours().toString()+n.getMinutes().toString();let e=`https://cowlendar.fra1.cdn.digitaloceanspaces.com/prod/cache/${c}.json?v=${t}`;window.COWLENDAR_TEST_MODE&&(e=`https://cowlendar.fra1.cdn.digitaloceanspaces.com/prod/cache/${c}.json`);const o=new AbortController,a=o.signal,l=setTimeout(()=>{o.abort(),console.error("Request timed out")},2e3);return fetch(e,{signal:a}).catch(()=>(clearTimeout(l),fetch(rt+"/calendar/init?"+new URLSearchParams({shop:c})))).then(s=>(clearTimeout(l),s.status===200?s.json():fetch(rt+"/calendar/init?"+new URLSearchParams({shop:c})).then(r=>r.json()))).then(s=>{if(s&&s.services&&s.services.length>0){_=s.services,h=(s==null?void 0:s.settings)||{};try{const r=new URLSearchParams(window.location.search);Object.fromEntries(r.entries()).cow&&_.forEach(m=>{u("===cow debug",`${window.location.origin}/products/${m.product_handle}`)})}catch(r){u("===err",r)}return X(),setTimeout(()=>{X(!0)},500),c==="f94e81.myshopify.com"?document.body.addEventListener("click",()=>{setTimeout(()=>X(!0),1e3)},!0):c==="next2new-golf.myshopify.com"&&Array.from(document.querySelectorAll(".js-quickbuy-button")).forEach(d=>{_.find(f=>d.href.includes(`/products/${f.product_handle}`))&&d.remove()}),"ok"}}).catch(s=>(u("===err",s),null))},_t=()=>{document.querySelectorAll(tt).forEach(function(t){he(t)})},he=n=>{if(n.hasAttribute("data-cow-cart-observed"))return;n.setAttribute("data-cow-cart-observed","true"),new MutationObserver(e=>{e.forEach(o=>{(o.type==="childList"||o.type==="attributes")&&ee()})}).observe(n,{childList:!0,subtree:!0,attributes:!0})};Yt(),me().catch(()=>null).then(n=>{Wt(),n&&window.location.pathname==="/cart"?(N(),_t(),setTimeout(()=>{pt()},1e3)):(document.querySelectorAll(mt).length&&N(),_t(),setTimeout(()=>{pt()},1e3))})})();
